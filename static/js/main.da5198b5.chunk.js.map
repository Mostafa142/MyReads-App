{"version":3,"sources":["components/Book.js","components/BookShelf.js","pages/Home.js","components/SearchContent.js","pages/Search.js","BooksAPI.js","App.js","index.js"],"names":["Book","props","book","shelf","console","log","className","style","width","height","backgroundImage","imageLinks","smallThumbnail","onChange","e","changeShelf","target","value","disabled","title","authors","BookShelf","Section","shelfTitle","books","category","booksCategory","filter","map","id","Home","booksList","to","SearchContent","searchBooks","Search","type","placeholder","handleSearch","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","then","res","json","data","update","method","body","JSON","stringify","App","useState","setBooksList","query","setQuery","setSearchBooks","useEffect","BooksAPI","a","isActive","maxResults","error","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da5198b5.chunk.js","sourcesContent":["import React from \"react\";\r\nconst Book = (props) => {\r\n  const book = props.book;\r\n  const shelf = props.book.shelf;\r\n  const updateShelf = (e) => {\r\n    props.changeShelf(book, e.target.value);\r\n  };\r\n  console.log(book);\r\n  return (\r\n    <li>\r\n      <div className=\"book\">\r\n        <div className=\"book-top\">\r\n          <div\r\n            className=\"book-cover\"\r\n            style={{\r\n              width: 128,\r\n              height: 193,\r\n              backgroundImage: book.imageLinks\r\n                ? `url(${book.imageLinks.smallThumbnail})`\r\n                : `url('https://images.unsplash.com/photo-1604147706283-d7119b5b822c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1287&q=80')`,\r\n            }}\r\n          ></div>\r\n          <div className=\"book-shelf-changer\">\r\n            <select onChange={updateShelf} value={shelf ? shelf : \"none\"}>\r\n              <option value=\"none\" disabled>\r\n                Move to...\r\n              </option>\r\n              <option value=\"currentlyReading\">Currently Reading</option>\r\n              <option value=\"wantToRead\">Want to Read</option>\r\n              <option value=\"read\">Read</option>\r\n              <option value=\"none\">None</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"book-title\">{book.title}</div>\r\n        <div className=\"book-authors\">{book.authors}</div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Book;\r\n","import React from \"react\";\r\nimport Book from \"./Book\";\r\n\r\nconst BookShelf = (props) => {\r\n  const Section = props.shelfTitle;\r\n  const books = props.books;\r\n  const category = props.category;\r\n  const booksCategory = books.filter((book) => book.shelf === category);\r\n  const changeShelf = props.changeShelf;\r\n  return (\r\n    <div className=\"bookshelf\">\r\n      <h2 className=\"bookshelf-title\">{Section}</h2>\r\n      <div className=\"bookshelf-books\">\r\n        <ol className=\"books-grid\">\r\n          {/* BOOK */}\r\n          {booksCategory.map((book) => {\r\n            return <Book book={book} key={book.id} changeShelf={changeShelf} />;\r\n          })}\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookShelf;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BookShelf from \"../components/BookShelf\";\r\nconst Home = (props) => {\r\n  const books = props.booksList;\r\n  const changeShelf = props.changeShelf;\r\n  return (\r\n    <div className=\"list-books\">\r\n      <div className=\"list-books-title\">\r\n        <h1>MyReads</h1>\r\n      </div>\r\n      <div className=\"list-books-content\">\r\n        <div>\r\n          {/* BOOK SHELF  */}\r\n          <BookShelf\r\n            shelfTitle=\"Currently Reading\"\r\n            books={books}\r\n            category=\"currentlyReading\"\r\n            changeShelf={changeShelf}\r\n          />\r\n          <BookShelf\r\n            shelfTitle=\"Want to Read\"\r\n            books={books}\r\n            category=\"wantToRead\"\r\n            changeShelf={changeShelf}\r\n          />\r\n          <BookShelf\r\n            shelfTitle=\"Read\"\r\n            books={books}\r\n            category=\"read\"\r\n            changeShelf={changeShelf}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"open-search\">\r\n        <Link to=\"/search\">Add a book</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react'\r\nimport Book from './Book';\r\n\r\nconst SearchContent = (props) => {\r\n  return (\r\n    <div className=\"search-books-results\">\r\n    <ol className=\"books-grid\">\r\n      {props.searchBooks.map((book) => {\r\n        return <Book book={book} key={book.id} changeShelf={props.changeShelf}/>;\r\n      })}\r\n    </ol>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default SearchContent\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchContent from \"../components/SearchContent\";\r\n\r\nconst Search = (props) => {\r\n  const changeShelf = props.changeShelf;\r\n  return (\r\n    <div className=\"search-books\">\r\n      <div className=\"search-books-bar\">\r\n        <Link to=\"/\" className=\"close-search\">\r\n          Close\r\n        </Link>\r\n        <div className=\"search-books-input-wrapper\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by title, author, or ISBN\"\r\n            value={props.value}\r\n            onChange={props.handleSearch}\r\n          />\r\n        </div>\r\n      </div>\r\n      <SearchContent searchBooks={props.searchBooks} changeShelf={changeShelf}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","const api = \"https://reactnd-books-api.udacity.com\";\r\n\r\nlet token = localStorage.token;\r\n\r\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\r\n\r\nconst headers = {\r\n  Accept: \"application/json\",\r\n  Authorization: token,\r\n};\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then((res) => res.json())\r\n    .then((data) => data.book);\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books);\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ shelf }),\r\n  }).then((res) => res.json());\r\n\r\nexport const search = (query, maxResults) =>\r\n  fetch(`${api}/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ query, maxResults }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books);\r\n","import \"./App.css\";\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport Search from \"./pages/Search\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\nimport { useState, useEffect } from \"react\";\r\nconst App = () => {\r\n  const [booksList, setBooksList] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [searchBooks, setSearchBooks] = useState([]);\r\n  useEffect(() => {\r\n    BooksAPI.getAll().then((res) => {\r\n      setBooksList(res);\r\n    });\r\n  }, []);\r\n\r\n  const changeShelf = async (book, shelf) => {\r\n    await BooksAPI.update(book, shelf);\r\n    await BooksAPI.getAll().then((res) => {\r\n      setBooksList(res);\r\n    });\r\n  };\r\n  const handleSearch = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n  useEffect(() => {\r\n    let isActive = true;\r\n    if (query) {\r\n      BooksAPI.search(query).then((res) => {\r\n        if (res.error) {\r\n          console.log(res);\r\n        } else {\r\n          if (isActive) {\r\n            setSearchBooks(res);\r\n            console.log(res);\r\n\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      isActive = false;\r\n      setSearchBooks([]);\r\n    };\r\n  }, [query]);\r\n  return (\r\n    <Router>\r\n      <div className=\"app\">\r\n        <Routes>\r\n          <Route\r\n            path=\"/\"\r\n            element={<Home booksList={booksList} changeShelf={changeShelf} />}\r\n          />\r\n          <Route\r\n            path=\"/search\"\r\n            element={\r\n              <Search\r\n                value={query}\r\n                handleSearch={handleSearch}\r\n                changeShelf={changeShelf}\r\n                searchBooks={searchBooks}\r\n              />\r\n            }\r\n          />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}